{
  "openapi": "3.0.1",
  "servers": [
    {
      "url": "https://github.com/samchon/nestia",
      "description": "insert your server url"
    }
  ],
  "info": {
    "version": "0.1.0",
    "title": "Generated by nestia - https://github.com/samchon/nestia"
  },
  "paths": {
    "/consumers/{section}/sales/{saleId}/entire_articles": {
      "patch": {
        "tags": [],
        "parameters": [
          {
            "name": "section",
            "in": "path",
            "description": "Code of the target section",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "saleId",
            "in": "path",
            "description": "ID of the target sale",
            "schema": {
              "type": "number",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "ip",
            "in": "query",
            "description": "IP Address of the client",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "href",
            "in": "query",
            "description": "`window.location.href`",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "query",
            "in": "query",
            "description": "More query parameters",
            "schema": {
              "$ref": "#/components/schemas/ISaleReview.IQuery"
            },
            "required": true
          }
        ],
        "requestBody": {
          "description": "Page request info",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ISaleInquiry.IRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Paged the entire articles",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IPage_lt_ISaleEntireArtcle.ISummary_gt_"
                }
              }
            }
          }
        },
        "description": "List up entire sale articles."
      }
    },
    "/consumers/{section}/sales/{saleId}/entire_articles/{id}": {
      "get": {
        "tags": [],
        "parameters": [
          {
            "name": "section",
            "in": "path",
            "description": "Code of the target section",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "saleId",
            "in": "path",
            "description": "ID of the target sale",
            "schema": {
              "type": "number",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "id",
            "in": "path",
            "description": "ID of the target article",
            "schema": {
              "type": "number",
              "nullable": false
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "The detailed article record",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/ISaleInquiry_lt_ISaleReview.IContent_gt_"
                    },
                    {
                      "$ref": "#/components/schemas/ISaleInquiry_lt_ISaleArticle.IContent_gt_"
                    }
                  ]
                }
              }
            }
          }
        },
        "description": "Get detailed sale article record."
      }
    },
    "/consumers/{section}/sales/{saleId}/questions": {
      "patch": {
        "tags": [],
        "parameters": [
          {
            "name": "section",
            "in": "path",
            "description": "",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "saleId",
            "in": "path",
            "description": "",
            "schema": {
              "type": "number",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "ip",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "href",
            "in": "query",
            "description": "",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ISaleInquiry.IRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IPage_lt_ISaleInquiry.ISummary_gt_"
                }
              }
            }
          }
        },
        "description": ""
      }
    },
    "/consumers/{section}/sales/{saleId}/reviews": {
      "patch": {
        "tags": [],
        "parameters": [
          {
            "name": "section",
            "in": "path",
            "description": "",
            "schema": {
              "type": "string",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "saleId",
            "in": "path",
            "description": "",
            "schema": {
              "type": "number",
              "nullable": false
            },
            "required": true
          },
          {
            "name": "query",
            "in": "query",
            "description": "",
            "schema": {
              "$ref": "#/components/schemas/ISaleReview.IQuery"
            },
            "required": true
          }
        ],
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ISaleInquiry.IRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IPage_lt_ISaleReview.ISummary_gt_"
                }
              }
            }
          }
        },
        "description": ""
      }
    }
  },
  "components": {
    "schemas": {
      "ISaleReview.IQuery": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "nullable": false
          },
          "referrer": {
            "type": "string",
            "nullable": false
          }
        },
        "nullable": false,
        "required": [
          "code",
          "referrer"
        ]
      },
      "ISaleInquiry.IRequest": {
        "type": "object",
        "properties": {
          "answered": {
            "type": "boolean",
            "nullable": false,
            "description": "Whether being answer by seller or not."
          },
          "page": {
            "type": "number",
            "nullable": false,
            "description": "Page number."
          },
          "limit": {
            "type": "number",
            "nullable": false,
            "description": "Maximum number of records per a page."
          },
          "search_fields": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "writer",
                "title",
                "content"
              ],
              "nullable": false,
              "description": "Search field(s)."
            },
            "nullable": false,
            "description": "Search field(s)."
          },
          "search_value": {
            "type": "string",
            "nullable": false,
            "description": "Search value."
          },
          "sort": {
            "type": "string",
            "nullable": false,
            "description": "Standard of sorting, list up fields with symbols.\n\n  - Only field name (`id`): ASC\n  - Plus symbol (`+id`): ASC\n  - Minus symbol (`-id`): DESC"
          }
        },
        "nullable": false,
        "description": "Page request info."
      },
      "IPage_lt_ISaleEntireArtcle.ISummary_gt_": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/IPage.IPagination",
            "description": "Pagination info."
          },
          "data": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/ISaleInquiry.ISummary",
                  "description": "List of the records."
                },
                {
                  "$ref": "#/components/schemas/ISaleReview.ISummary",
                  "description": "List of the records."
                }
              ]
            },
            "nullable": false,
            "description": "List of the records."
          }
        },
        "nullable": false,
        "required": [
          "pagination",
          "data"
        ],
        "description": "Paginated records."
      },
      "IPage.IPagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "number",
            "nullable": false,
            "description": "Current page number."
          },
          "limit": {
            "type": "number",
            "nullable": false,
            "description": "Maximum number of records per a page."
          },
          "total_count": {
            "type": "number",
            "nullable": false,
            "description": "Number of entire records."
          },
          "total_pages": {
            "type": "number",
            "nullable": false,
            "description": "Number of total pages."
          }
        },
        "nullable": false,
        "required": [
          "page",
          "limit",
          "total_count",
          "total_pages"
        ],
        "description": "Pagenation info."
      },
      "ISaleInquiry.ISummary": {
        "type": "object",
        "properties": {
          "writer": {
            "type": "string",
            "nullable": false,
            "description": "Name of the writer."
          },
          "answered": {
            "type": "boolean",
            "nullable": false,
            "description": "Whether being answer by seller or not."
          },
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "Title of the article."
          },
          "hit": {
            "type": "number",
            "nullable": false,
            "description": "Hit count.\n\nHow many consumers had read."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creaiton time."
          },
          "updated_at": {
            "type": "string",
            "nullable": false,
            "description": "Updated time."
          }
        },
        "nullable": false,
        "required": [
          "writer",
          "answered",
          "id",
          "title",
          "hit",
          "created_at",
          "updated_at"
        ],
        "description": "Summarized info of the inquiry article."
      },
      "ISaleReview.ISummary": {
        "type": "object",
        "properties": {
          "score": {
            "type": "number",
            "nullable": false,
            "description": "Estimation score."
          },
          "writer": {
            "type": "string",
            "nullable": false,
            "description": "Name of the writer."
          },
          "answered": {
            "type": "boolean",
            "nullable": false,
            "description": "Whether being answer by seller or not."
          },
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "Title of the article."
          },
          "hit": {
            "type": "number",
            "nullable": false,
            "description": "Hit count.\n\nHow many consumers had read."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creaiton time."
          },
          "updated_at": {
            "type": "string",
            "nullable": false,
            "description": "Updated time."
          }
        },
        "nullable": false,
        "required": [
          "score",
          "writer",
          "answered",
          "id",
          "title",
          "hit",
          "created_at",
          "updated_at"
        ],
        "description": "Summarized info of the review."
      },
      "ISaleInquiry_lt_ISaleReview.IContent_gt_": {
        "type": "object",
        "properties": {
          "writer": {
            "type": "string",
            "nullable": false,
            "description": "Name of the writer."
          },
          "answer": {
            "$ref": "#/components/schemas/ISaleArticle_lt_ISaleArticle.IContent_gt_.Nullable",
            "description": "Formal answer from the seller."
          },
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "hit": {
            "type": "number",
            "nullable": false,
            "description": "Hit count.\n\nHow many consumers had read."
          },
          "contents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ISaleReview.IContent",
              "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
            },
            "nullable": false,
            "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creation time."
          }
        },
        "nullable": false,
        "required": [
          "writer",
          "answer",
          "id",
          "hit",
          "contents",
          "created_at"
        ],
        "description": "Inquiry article.\n\nSub-type of article and super-type of question and answer."
      },
      "ISaleArticle_lt_ISaleArticle.IContent_gt_.Nullable": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "hit": {
            "type": "number",
            "nullable": false,
            "description": "Hit count.\n\nHow many consumers had read."
          },
          "contents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ISaleArticle.IContent",
              "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
            },
            "nullable": false,
            "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creation time."
          }
        },
        "nullable": true,
        "required": [
          "id",
          "hit",
          "contents",
          "created_at"
        ],
        "description": "Article about a sale.\n\nThe `ISaleArticle` is a super type interface. Many sub-type articles would be\ndesigned by extending this super type interface `ISaleArticle`."
      },
      "ISaleArticle.IContent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "nullable": false,
            "description": "Primary Key"
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "Title of the content."
          },
          "body": {
            "type": "string",
            "nullable": false,
            "description": "Body of the content."
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IAttachmentFile",
              "description": "Attached files."
            },
            "nullable": false,
            "description": "Attached files."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creation time."
          }
        },
        "nullable": false,
        "required": [
          "id",
          "title",
          "body",
          "files",
          "created_at"
        ],
        "description": "Content info."
      },
      "IAttachmentFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "name": {
            "type": "string",
            "nullable": false,
            "description": "Name of the file."
          },
          "extension": {
            "type": "string",
            "nullable": true,
            "description": "Extension of the file, but ommitable."
          },
          "url": {
            "type": "string",
            "nullable": false,
            "description": "Full URL path of the file."
          }
        },
        "nullable": false,
        "required": [
          "id",
          "name",
          "extension",
          "url"
        ],
        "description": "Attachemd (physical) file info."
      },
      "ISaleReview.IContent": {
        "type": "object",
        "properties": {
          "score": {
            "type": "number",
            "nullable": false,
            "description": "Estimation score."
          },
          "id": {
            "type": "string",
            "nullable": false,
            "description": "Primary Key"
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "Title of the content."
          },
          "body": {
            "type": "string",
            "nullable": false,
            "description": "Body of the content."
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IAttachmentFile",
              "description": "Attached files."
            },
            "nullable": false,
            "description": "Attached files."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creation time."
          }
        },
        "nullable": false,
        "required": [
          "score",
          "id",
          "title",
          "body",
          "files",
          "created_at"
        ],
        "description": "Content info of the review."
      },
      "ISaleInquiry_lt_ISaleArticle.IContent_gt_": {
        "type": "object",
        "properties": {
          "writer": {
            "type": "string",
            "nullable": false,
            "description": "Name of the writer."
          },
          "answer": {
            "$ref": "#/components/schemas/ISaleArticle_lt_ISaleArticle.IContent_gt_.Nullable",
            "description": "Formal answer from the seller."
          },
          "id": {
            "type": "number",
            "nullable": false,
            "description": "Primary Key."
          },
          "hit": {
            "type": "number",
            "nullable": false,
            "description": "Hit count.\n\nHow many consumers had read."
          },
          "contents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ISaleArticle.IContent",
              "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
            },
            "nullable": false,
            "description": "List of contents.\n\nWhen the article writer tries to modify content, it would not modify the article\ncontent but would be accumulated. Therefore, all of the people can read how\nthe content has been changed."
          },
          "created_at": {
            "type": "string",
            "nullable": false,
            "description": "Creation time."
          }
        },
        "nullable": false,
        "required": [
          "writer",
          "answer",
          "id",
          "hit",
          "contents",
          "created_at"
        ],
        "description": "Inquiry article.\n\nSub-type of article and super-type of question and answer."
      },
      "IPage_lt_ISaleInquiry.ISummary_gt_": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/IPage.IPagination",
            "description": "Pagination info."
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ISaleInquiry.ISummary",
              "description": "List of the records."
            },
            "nullable": false,
            "description": "List of the records."
          }
        },
        "nullable": false,
        "required": [
          "pagination",
          "data"
        ],
        "description": "Paginated records."
      },
      "IPage_lt_ISaleReview.ISummary_gt_": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/IPage.IPagination",
            "description": "Pagination info."
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ISaleReview.ISummary",
              "description": "List of the records."
            },
            "nullable": false,
            "description": "List of the records."
          }
        },
        "nullable": false,
        "required": [
          "pagination",
          "data"
        ],
        "description": "Paginated records."
      }
    }
  }
}